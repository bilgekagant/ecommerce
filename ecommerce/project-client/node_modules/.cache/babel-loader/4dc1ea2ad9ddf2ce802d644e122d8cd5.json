{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\burak\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\MIX\\\\4. SINIF\\\\0 - TEZ \\xD6RNEK\\\\Wanted\\\\project-client\\\\src\\\\components\\\\profile\\\\ProfileMain.jsx\",\n    _s = $RefreshSig$();\n\nimport { Result } from \"postcss\";\nimport React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport profileDefaultImage from \"../../assets/profileDefaultImage.jpg\";\nimport { useAuthContext } from \"../../context/AuthContext\";\nimport { useSubmitContext } from \"../../context/SubmitContext\";\nimport { useUserContext } from \"../../context/UserContext\";\nimport { getFromLocalStorage, removeFromLocalStorage } from \"../../services/localStorageService\";\nimport { deleteAccount, getUserById } from \"../../services/userService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProfileMain() {\n  _s();\n\n  const {\n    selectedUser,\n    setSelectedUser\n  } = useUserContext();\n  const {\n    setIsLogged\n  } = useAuthContext();\n  const {\n    isSubmitting,\n    setIsSubmitting\n  } = useSubmitContext();\n  const navigate = useNavigate();\n  useEffect(() => {\n    getUserById(getFromLocalStorage(\"userId\")).then(result => setSelectedUser(result.data[0]));\n  }, []);\n\n  const handleDeleteAccount = () => {\n    setIsSubmitting(true);\n    deleteAccount(selectedUser.userId).then(response => {\n      if (response.success) {\n        toast.success(response.message);\n        setIsLogged(false);\n        removeFromLocalStorage(\"isLogged\");\n        removeFromLocalStorage(\"token\");\n        removeFromLocalStorage(\"userId\");\n        removeFromLocalStorage(\"productId\");\n        navigate(\"/\");\n      }\n\n      setIsSubmitting(false);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full sm:w-2/3 md:w-1/2 lg:w-2/5  bg-white dark:bg-gray-800 rounded-md shadow-item mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: profileDefaultImage,\n        className: \"object-cover object-center rounded-t-md w-full\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full dark:border-gray-700  border-2 py-3 px-20 font-bold\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: selectedUser.firstName + \" \" + selectedUser.lastName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full border-2 dark:border-gray-700  py-3 px-20 font-bold\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: selectedUser.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full  border-2 dark:border-gray-700  py-3 px-20 font-bold\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: selectedUser.status ? \"Aktif Kullanıcı\" : \"Pasif Kullanıcı\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-7\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `btn bg-white text-red-500 border-red-500 border-2 hover:bg-red-500 hover:text-white transition-all ${isSubmitting ? \"submitting\" : \"\"}`,\n        onClick: handleDeleteAccount,\n        disabled: isSubmitting,\n        children: \"Hesab\\u0131 Sil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfileMain, \"5QFZC0qZ2mfm9eZQIVvBCRMmuDA=\", false, function () {\n  return [useUserContext, useAuthContext, useSubmitContext, useNavigate];\n});\n\n_c = ProfileMain;\nexport default ProfileMain;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileMain\");","map":{"version":3,"names":["Result","React","useEffect","useNavigate","toast","profileDefaultImage","useAuthContext","useSubmitContext","useUserContext","getFromLocalStorage","removeFromLocalStorage","deleteAccount","getUserById","ProfileMain","selectedUser","setSelectedUser","setIsLogged","isSubmitting","setIsSubmitting","navigate","then","result","data","handleDeleteAccount","userId","response","success","message","catch","err","console","log","firstName","lastName","email","status"],"sources":["C:/Users/burak/OneDrive/Masaüstü/MIX/4. SINIF/0 - TEZ ÖRNEK/Wanted/project-client/src/components/profile/ProfileMain.jsx"],"sourcesContent":["import { Result } from \"postcss\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport profileDefaultImage from \"../../assets/profileDefaultImage.jpg\";\r\nimport { useAuthContext } from \"../../context/AuthContext\";\r\nimport { useSubmitContext } from \"../../context/SubmitContext\";\r\nimport { useUserContext } from \"../../context/UserContext\";\r\nimport {\r\n  getFromLocalStorage,\r\n  removeFromLocalStorage,\r\n} from \"../../services/localStorageService\";\r\nimport { deleteAccount, getUserById } from \"../../services/userService\";\r\n\r\nfunction ProfileMain() {\r\n  const { selectedUser, setSelectedUser } = useUserContext();\r\n  const { setIsLogged } = useAuthContext();\r\n  const { isSubmitting, setIsSubmitting } = useSubmitContext();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    getUserById(getFromLocalStorage(\"userId\")).then((result) =>\r\n      setSelectedUser(result.data[0])\r\n    );\r\n  }, []);\r\n\r\n  const handleDeleteAccount = () => {\r\n    setIsSubmitting(true);\r\n    deleteAccount(selectedUser.userId)\r\n      .then((response) => {\r\n        if (response.success) {\r\n          toast.success(response.message);\r\n          setIsLogged(false);\r\n          removeFromLocalStorage(\"isLogged\");\r\n          removeFromLocalStorage(\"token\");\r\n          removeFromLocalStorage(\"userId\");\r\n          removeFromLocalStorage(\"productId\");\r\n          navigate(\"/\");\r\n        }\r\n        setIsSubmitting(false);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"w-full sm:w-2/3 md:w-1/2 lg:w-2/5  bg-white dark:bg-gray-800 rounded-md shadow-item mx-auto\">\r\n        <img\r\n          src={profileDefaultImage}\r\n          className=\"object-cover object-center rounded-t-md w-full\"\r\n          alt=\"\"\r\n        />\r\n        <div className=\"text-center\">\r\n          <div className=\"w-full dark:border-gray-700  border-2 py-3 px-20 font-bold\">\r\n            <div>{selectedUser.firstName + \" \" + selectedUser.lastName}</div>\r\n          </div>\r\n          <div className=\"w-full border-2 dark:border-gray-700  py-3 px-20 font-bold\">\r\n            <div>{selectedUser.email}</div>\r\n          </div>\r\n          <div className=\"w-full  border-2 dark:border-gray-700  py-3 px-20 font-bold\">\r\n            <div>\r\n              {selectedUser.status ? \"Aktif Kullanıcı\" : \"Pasif Kullanıcı\"}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"text-center mt-7\">\r\n        <button\r\n          className={`btn bg-white text-red-500 border-red-500 border-2 hover:bg-red-500 hover:text-white transition-all ${\r\n            isSubmitting ? \"submitting\" : \"\"\r\n          }`}\r\n          onClick={handleDeleteAccount}\r\n          disabled={isSubmitting}\r\n        >\r\n          Hesabı Sil\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileMain;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}