{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\burak\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\MIX\\\\4. SINIF\\\\0 - TEZ \\xD6RNEK\\\\Wanted\\\\project-client\\\\src\\\\components\\\\dashboard\\\\ControlUsers.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { useUserContext } from \"../../context/UserContext\";\nimport { block, unBlock } from \"../../services/authService\";\nimport { deleteAccount, getUsers } from \"../../services/userService\";\nimport { AiFillDelete } from \"react-icons/ai\";\nimport { getFromLocalStorage } from \"../../services/localStorageService\";\nimport { useSubmitContext } from \"../../context/SubmitContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ControlUsers() {\n  _s();\n\n  const {\n    isSubmitting,\n    setIsSubmitting\n  } = useSubmitContext();\n  const {\n    users,\n    setUsers\n  } = useUserContext();\n  useEffect(() => {\n    setIsSubmitting(false);\n    getUsers().then(result => setUsers(result.data));\n  }, []);\n\n  const handleUnBlock = userId => {\n    setIsSubmitting(true);\n    unBlock(userId).then(result => {\n      toast.success(result.message);\n      setIsSubmitting(false);\n      getUsers().then(result => setUsers(result.data));\n    });\n  };\n\n  const handleBlock = userId => {\n    setIsSubmitting(true);\n    block(userId).then(result => {\n      toast.success(result.message);\n      setIsSubmitting(false);\n      getUsers().then(result => setUsers(result.data));\n    });\n  };\n\n  const deleteUser = userId => {\n    setIsSubmitting(true);\n\n    if (getFromLocalStorage(\"userId\") == userId) {\n      console.log(\"silemezsin\");\n      setIsSubmitting(false);\n    } else {\n      deleteAccount(userId).then(response => {\n        if (response.success) {\n          toast.success(response.message);\n          setIsSubmitting(false);\n          getUsers().then(result => setUsers(result.data));\n        }\n      }).catch(err => console.log(err));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: users.map((user, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `py-4 px-6  border-2 transition-all duration-75  rounded w-full mb-4 flex justify-between items-center dark:border-gray-800 shadow-item2 ${user.operationClaimId == 1 ? \"bg-gold text-black font-bold hover:border-gray-700 dark:hover:border-gray-100\" : \" bg-white dark:bg-gray-800 hover:border-gray-600 dark:hover:border-gray-100 \"} `,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-12 w-full items-center text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-3\",\n          children: user.firstName + \" \" + user.lastName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-3\",\n          children: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-3\",\n          children: user.operationClaimName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex col-span-3 justify-end\",\n          children: [user.operationClaimId == 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex shrink-0\",\n            children: [!user.status ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `cursor-pointer btn border-2 box-border bg-white border-red-600 transition-all text-red-500 hover:bg-red-500 hover:text-white ml-3 text-center ${isSubmitting ? \"submitting\" : \"\"}`,\n              onClick: () => handleUnBlock(user.userId),\n              disabled: isSubmitting,\n              children: \"Bloke Kald\\u0131r\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `cursor-pointer btn border-2 box-border bg-white border-red-600 transition-all text-red-500 hover:bg-red-500 hover:text-white ml-3 text-center ${isSubmitting ? \"submitting\" : \"\"}`,\n              onClick: () => handleBlock(user.email),\n              disabled: isSubmitting,\n              children: \"Bloke\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `cursor-pointer btn border-2 box-border bg-white border-red-600 transition-all text-red-500 hover:bg-red-500 hover:text-white ml-3 text-center ${isSubmitting ? \"submitting\" : \"\"}`,\n              onClick: () => deleteUser(user.userId),\n              disabled: isSubmitting,\n              children: /*#__PURE__*/_jsxDEV(AiFillDelete, {\n                className: \"text-2xl\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n            to: isSubmitting ? \"\" : `/updateUser/${user.userId}`,\n            className: `btn border-2 box-border bg-white hover:text-white transition-all ml-3 ${user.operationClaimId == 1 ? \" border-darkBlue  text-darkBlue hover:bg-darkBlue\" : \" border-indigo-600  text-indigo-500 hover:bg-indigo-500\"} ${isSubmitting ? \"submitting\" : \"\"}`,\n            children: \"G\\xFCncelle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ControlUsers, \"YRpgVY+hPpHw2UGFc/c7bZtg3Xg=\", false, function () {\n  return [useSubmitContext, useUserContext];\n});\n\n_c = ControlUsers;\nexport default ControlUsers;\n\nvar _c;\n\n$RefreshReg$(_c, \"ControlUsers\");","map":{"version":3,"names":["React","useEffect","useState","NavLink","toast","useUserContext","block","unBlock","deleteAccount","getUsers","AiFillDelete","getFromLocalStorage","useSubmitContext","ControlUsers","isSubmitting","setIsSubmitting","users","setUsers","then","result","data","handleUnBlock","userId","success","message","handleBlock","deleteUser","console","log","response","catch","err","map","user","index","operationClaimId","firstName","lastName","email","operationClaimName","status"],"sources":["C:/Users/burak/OneDrive/Masaüstü/MIX/4. SINIF/0 - TEZ ÖRNEK/Wanted/project-client/src/components/dashboard/ControlUsers.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useUserContext } from \"../../context/UserContext\";\r\nimport { block, unBlock } from \"../../services/authService\";\r\nimport { deleteAccount, getUsers } from \"../../services/userService\";\r\nimport { AiFillDelete } from \"react-icons/ai\";\r\nimport { getFromLocalStorage } from \"../../services/localStorageService\";\r\nimport { useSubmitContext } from \"../../context/SubmitContext\";\r\n\r\nfunction ControlUsers() {\r\n  const { isSubmitting, setIsSubmitting } = useSubmitContext();\r\n\r\n  const { users, setUsers } = useUserContext();\r\n  useEffect(() => {\r\n    setIsSubmitting(false);\r\n    getUsers().then((result) => setUsers(result.data));\r\n  }, []);\r\n\r\n  const handleUnBlock = (userId) => {\r\n    setIsSubmitting(true);\r\n    unBlock(userId).then((result) => {\r\n      toast.success(result.message);\r\n      setIsSubmitting(false);\r\n      getUsers().then((result) => setUsers(result.data));\r\n    });\r\n  };\r\n\r\n  const handleBlock = (userId) => {\r\n    setIsSubmitting(true);\r\n    block(userId).then((result) => {\r\n      toast.success(result.message);\r\n      setIsSubmitting(false);\r\n      getUsers().then((result) => setUsers(result.data));\r\n    });\r\n  };\r\n\r\n  const deleteUser = (userId) => {\r\n    setIsSubmitting(true);\r\n    if (getFromLocalStorage(\"userId\") == userId) {\r\n      console.log(\"silemezsin\");\r\n      setIsSubmitting(false);\r\n    } else {\r\n      deleteAccount(userId)\r\n        .then((response) => {\r\n          if (response.success) {\r\n            toast.success(response.message);\r\n            setIsSubmitting(false);\r\n            getUsers().then((result) => setUsers(result.data));\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {users.map((user, index) => (\r\n        <div\r\n          className={`py-4 px-6  border-2 transition-all duration-75  rounded w-full mb-4 flex justify-between items-center dark:border-gray-800 shadow-item2 ${\r\n            user.operationClaimId == 1\r\n              ? \"bg-gold text-black font-bold hover:border-gray-700 dark:hover:border-gray-100\"\r\n              : \" bg-white dark:bg-gray-800 hover:border-gray-600 dark:hover:border-gray-100 \"\r\n          } `}\r\n          key={index}\r\n        >\r\n          <div className=\"grid grid-cols-12 w-full items-center text-center\">\r\n            <div className=\"col-span-3\">\r\n              {user.firstName + \" \" + user.lastName}\r\n            </div>\r\n            <div className=\"col-span-3\">{user.email}</div>\r\n            <div className=\"col-span-3\">{user.operationClaimName}</div>\r\n            <div className=\"flex col-span-3 justify-end\">\r\n              {user.operationClaimId == 2 && (\r\n                <div className=\"flex shrink-0\">\r\n                  {!user.status ? (\r\n                    <div\r\n                      className={`cursor-pointer btn border-2 box-border bg-white border-red-600 transition-all text-red-500 hover:bg-red-500 hover:text-white ml-3 text-center ${\r\n                        isSubmitting ? \"submitting\" : \"\"\r\n                      }`}\r\n                      onClick={() => handleUnBlock(user.userId)}\r\n                      disabled={isSubmitting}\r\n                    >\r\n                      Bloke Kaldır\r\n                    </div>\r\n                  ) : (\r\n                    <button\r\n                      className={`cursor-pointer btn border-2 box-border bg-white border-red-600 transition-all text-red-500 hover:bg-red-500 hover:text-white ml-3 text-center ${\r\n                        isSubmitting ? \"submitting\" : \"\"\r\n                      }`}\r\n                      onClick={() => handleBlock(user.email)}\r\n                      disabled={isSubmitting}\r\n                    >\r\n                      Bloke\r\n                    </button>\r\n                  )}\r\n                  <button\r\n                    className={`cursor-pointer btn border-2 box-border bg-white border-red-600 transition-all text-red-500 hover:bg-red-500 hover:text-white ml-3 text-center ${\r\n                      isSubmitting ? \"submitting\" : \"\"\r\n                    }`}\r\n                    onClick={() => deleteUser(user.userId)}\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    <AiFillDelete className=\"text-2xl\" />\r\n                  </button>\r\n                </div>\r\n              )}\r\n              <NavLink\r\n                to={isSubmitting ? \"\" : `/updateUser/${user.userId}`}\r\n                className={`btn border-2 box-border bg-white hover:text-white transition-all ml-3 ${\r\n                  user.operationClaimId == 1\r\n                    ? \" border-darkBlue  text-darkBlue hover:bg-darkBlue\"\r\n                    : \" border-indigo-600  text-indigo-500 hover:bg-indigo-500\"\r\n                } ${isSubmitting ? \"submitting\" : \"\"}`}\r\n              >\r\n                Güncelle\r\n              </NavLink>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ControlUsers;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}